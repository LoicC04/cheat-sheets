<h1 id="handling-exceptions">Handling exceptions</h1>
<pre><code class="lang-Java">@ControllerAdvice
public class ErrorController {
  ...
  @ExceptionHandler(AccessDeniedException.class)
  @ResponseBody
  @ResponseStatus(HttpStatus.FORBIDDEN)
  public ErrorResponse accessDenied(AccessDeniedException e) {
  }
}
</code></pre>
<h1 id="asynchronous-request-processing">Asynchronous request processing</h1>
<p>It is possible to use the Servlet 3.0 asynchronous request processing feature in Spring:</p>
<pre><code class="lang-Java">@RequestMapping(method=RequestMethod.POST)
public Callable&lt;String&gt; processUpload(final MultipartFile file) {
  return new Callable&lt;String&gt;() {
      public String call() throws Exception {
        // ...
        return &quot;someView&quot;;
        }
  }
}
</code></pre>
<p>Or using DefferedResult</p>
<pre><code class="lang-Java">@RequestMapping(&quot;/quotes&quot;)
@ResponseBody
public DeferredResult&lt;String&gt; quotes() {
  DeferredResult&lt;String&gt; deferredResult = new DeferredResult&lt;String&gt;();
  // Save the deferredResult somewhere..
  return deferredResult;
}
// In some other thread...
deferredResult.setResult(data);
</code></pre>
