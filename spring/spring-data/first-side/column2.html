<h1 id="predicates">Predicates</h1>
<p>Implements QueryDslPredicateExecutor:</p>
<pre><code class="lang-Java">interface UserRepository extends CrudRepository&lt;User, Long&gt;, QueryDslPredicateExecutor&lt;User&gt;
</code></pre>
<p>Working with predicates:</p>
<pre><code class="lang-Java">Predicate predicate = user.firstname.equalsIgnoreCase(&quot;dave&quot;)
.and(user.lastname.startsWithIgnoreCase(&quot;mathews&quot;));
userRepository.findAll(predicate);
</code></pre>
<h1 id="using-query">Using @Query</h1>
<p>Implements the JPA repository</p>
<pre><code class="lang-Java">public interface UserRepository extends JpaRepository&lt;User, Long&gt;
</code></pre>
<p>Named queries in an interface</p>
<pre><code class="lang-Java">@Query(&quot;select u from User u where u.firstname like %?1&quot;)
List&lt;User&gt; findByFirstnameEndsWith(String firstname);
</code></pre>
<p>Streaming the result of a query with java 8</p>
<pre><code class="lang-Java">@Query(&quot;select u from User u&quot;)
Stream&lt;User&gt; findAllByCustomQueryAndStream();
</code></pre>
<h1 id="native-queries">Native queries</h1>
<p>Native queries can be executed using an EntityManager</p>
<pre><code class="lang-Java">@PersistenceContext private EntityManager em;
...
Query q = em.createNativeQuery(&quot;SELECT a.id, a.version, a.firstname, a.lastname FROM Author a&quot;, Author.class);
List&lt;Author&gt; authors = q.getResultList();
</code></pre>
<p>Native queries using @Query</p>
<pre><code class="lang-Java">@Query(value = &quot;SELECT * FROM USERS WHERE LASTNAME = ?1&quot;,countQuery = &quot;SELECT count(*) FROM USERS WHERE LASTNAME = ?1&quot;,nativeQuery = true)Page&lt;User&gt; findByLastname(String lastname, Pageable pageable);
</code></pre>
